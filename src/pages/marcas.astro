---
import Layout from '@/layouts/Layout.astro';
import brandsData from '@/data/brands.json';
---

<Layout title="Marcas Analizadas | PetFood Expert">
  <section class="bg-gradient-to-b from-secondary/50 to-background py-12">
    <div class="container">
      <div class="text-center">
        <h1 class="text-4xl md:text-5xl font-heading font-bold mb-4">
          Marcas Analizadas
        </h1>
        <p class="text-muted-foreground max-w-2xl mx-auto">
          Descubre todas las marcas que hemos analizado, desde las más premium hasta las opciones económicas.
        </p>
      </div>
    </div>
  </section>

  <section class="py-12">
    <div class="container">
      <p class="text-muted-foreground mb-6">
        {brandsData.length} marcas disponibles
      </p>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        {brandsData.map((brand) => (
          <article class="group">
            <a href={`/marca/${brand.id}`}>
              <div class="bg-card rounded-2xl p-6 card-hover border border-border h-full flex flex-col">
                <div class="flex items-start gap-4 mb-4">
                  <div class="h-16 w-16 rounded-xl bg-gradient-to-br from-primary/10 to-accent/10 flex items-center justify-center text-4xl group-hover:scale-110 transition-transform duration-300">
                    {brand.logo}
                  </div>
                  <div class="flex-1">
                    <h3 class="font-heading font-semibold text-lg group-hover:text-primary transition-colors">
                      {brand.name}
                    </h3>
                    <div class="flex items-center gap-2 mt-1">
                      <span class="text-xs text-muted-foreground">{brand.country}</span>
                      <span class="text-muted-foreground">•</span>
                      <span class="text-xs text-primary font-medium">{brand.priceRange}</span>
                    </div>
                  </div>
                </div>

                <div class="mb-4">
                  <div class="flex items-center gap-1">
                    {Array.from({ length: 5 }).map((_, i) => (
                      <svg key={i} class={`h-4 w-4 ${i < Math.floor(brand.rating) ? 'text-rating-star fill-rating-star' : 'text-muted-foreground/30'}`} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                    ))}
                    <span class="font-semibold text-foreground ml-1 text-sm">{brand.rating.toFixed(1)}</span>
                  </div>
                </div>

                <p class="text-sm text-muted-foreground line-clamp-2 mb-4 flex-1">
                  {brand.description}
                </p>

                <div class="flex items-center justify-between pt-4 border-t border-border">
                  <span class="flex items-center gap-1 text-xs text-muted-foreground">
                    <svg class="h-3 w-3" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></svg>
                    {brand.articleCount} reviews
                  </span>
                  <span class="inline-flex items-center gap-1 text-sm font-medium text-primary group-hover:gap-2 transition-all">
                    Ver marca
                    <svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                  </span>
                </div>
              </div>
            </a>
          </article>
        ))}
      </div>
    </div>
  </section>
</Layout>
